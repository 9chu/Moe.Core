/**
 * @file
 * @author chu
 * @date 2018/6/7
 */
#include "UrlTestData.hpp"

using namespace std;
using namespace moe;

// raw.githubusercontent.com/web-platform-tests/wpt/40ecdf31374fd236ddfc7a78d5933f5658873eae/url/urltestdata.json
static const Testing::UrlDataTestRecord kUrlDataTestRecords[] = {
    {
        "http://example\t.\norg",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/",
        "",
        "",
    },
    {
        "http://user:pass@foo:21/bar;par?b#c",
        "http://example.org/foo/bar",
        "http:",
        "user",
        "pass",
        "foo",
        "21",
        "/bar;par",
        "?b",
        "#c",
    },
    {
        "https://test:@test",
        "about:blank",
        "https:",
        "test",
        "",
        "test",
        "",
        "/",
        "",
        "",
    },
    {
        "https://:@test",
        "about:blank",
        "https:",
        "",
        "",
        "test",
        "",
        "/",
        "",
        "",
    },
    {
        "non-special://test:@test/x",
        "about:blank",
        "non-special:",
        "test",
        "",
        "test",
        "",
        "/x",
        "",
        "",
    },
    {
        "non-special://:@test/x",
        "about:blank",
        "non-special:",
        "",
        "",
        "test",
        "",
        "/x",
        "",
        "",
    },
    {
        "http:foo.com",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/foo.com",
        "",
        "",
    },
    {
        "\t   :foo.com   \n",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:foo.com",
        "",
        "",
    },
    {
        " foo.com  ",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/foo.com",
        "",
        "",
    },
    {
        "a:\t foo.com",
        "http://example.org/foo/bar",
        "a:",
        "",
        "",
        "",
        "",
        " foo.com",
        "",
        "",
    },
    {
        "http://f:21/ b ? d # e ",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "21",
        "/%20b%20",
        "?%20d%20",
        "#%20e",
    },
    {
        "lolscheme:x x#x x",
        "about:blank",
        "lolscheme:",
        "",
        "",
        "",
        "",
        "x x",
        "",
        "#x%20x",
    },
    {
        "http://f:/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "",
        "/c",
        "",
        "",
    },
    {
        "http://f:0/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "0",
        "/c",
        "",
        "",
    },
    {
        "http://f:00000000000000/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "0",
        "/c",
        "",
        "",
    },
    {
        "http://f:00000000000000000000080/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "",
        "/c",
        "",
        "",
    },
    {
        "http://f:b/c",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://f: /c",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://f:\n/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "f",
        "",
        "/c",
        "",
        "",
    },
    {
        "http://f:fifty-two/c",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://f:999999/c",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "non-special://f:999999/c",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://f: 21 / b ? d # e ",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        "  \t",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        ":foo.com/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:foo.com/",
        "",
        "",
    },
    {
        ":foo.com\\",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:foo.com/",
        "",
        "",
    },
    {
        ":",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:",
        "",
        "",
    },
    {
        ":a",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:a",
        "",
        "",
    },
    {
        ":/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:/",
        "",
        "",
    },
    {
        ":\\",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:/",
        "",
        "",
    },
    {
        ":#",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:",
        "",
        "",
    },
    {
        "#",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        "#/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "#/",
    },
    {
        "#\\",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "#\\",
    },
    {
        "#;?",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "#;?",
    },
    {
        "?",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        "/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/",
        "",
        "",
    },
    {
        ":23",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:23",
        "",
        "",
    },
    {
        "/:23",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/:23",
        "",
        "",
    },
    {
        "::",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/::",
        "",
        "",
    },
    {
        "::23",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/::23",
        "",
        "",
    },
    {
        "foo://",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://a:b@c:29/d",
        "http://example.org/foo/bar",
        "http:",
        "a",
        "b",
        "c",
        "29",
        "/d",
        "",
        "",
    },
    {
        "http::@c:29",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/:@c:29",
        "",
        "",
    },
    {
        "http://&a:foo(b]c@d:2/",
        "http://example.org/foo/bar",
        "http:",
        "&a",
        "foo(b%5Dc",
        "d",
        "2",
        "/",
        "",
        "",
    },
    {
        "http://::@c@d:2",
        "http://example.org/foo/bar",
        "http:",
        "",
        "%3A%40c",
        "d",
        "2",
        "/",
        "",
        "",
    },
    {
        "http://foo.com:b@d/",
        "http://example.org/foo/bar",
        "http:",
        "foo.com",
        "b",
        "d",
        "",
        "/",
        "",
        "",
    },
    {
        "http://foo.com/\\@",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo.com",
        "",
        "//@",
        "",
        "",
    },
    {
        "http:\\\\foo.com\\",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:\\\\a\\b:c\\d@foo.com\\",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "a",
        "",
        "/b:c/d@foo.com/",
        "",
        "",
    },
    {
        "foo:/",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "foo:/bar.com/",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "/bar.com/",
        "",
        "",
    },
    {
        "foo://///////",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "///////",
        "",
        "",
    },
    {
        "foo://///////bar.com/",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "///////bar.com/",
        "",
        "",
    },
    {
        "foo:////://///",
        "http://example.org/foo/bar",
        "foo:",
        "",
        "",
        "",
        "",
        "//://///",
        "",
        "",
    },
    {
        "c:/foo",
        "http://example.org/foo/bar",
        "c:",
        "",
        "",
        "",
        "",
        "/foo",
        "",
        "",
    },
    {
        "//foo/bar",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo",
        "",
        "/bar",
        "",
        "",
    },
    {
        "http://foo/path;a??e#f#g",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo",
        "",
        "/path;a",
        "??e",
        "#f#g",
    },
    {
        "http://foo/abcd?efgh?ijkl",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo",
        "",
        "/abcd",
        "?efgh?ijkl",
        "",
    },
    {
        "http://foo/abcd#foo?bar",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "foo",
        "",
        "/abcd",
        "",
        "#foo?bar",
    },
    {
        "[61:24:74]:98",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/[61:24:74]:98",
        "",
        "",
    },
    {
        "http:[61:27]/:foo",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/[61:27]/:foo",
        "",
        "",
    },
    {
        "http://[1::2]:3:4",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://2001::1",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://2001::1]",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://2001::1]:80",
        "http://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[2001::1]",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "[2001::1]",
        "",
        "/",
        "",
        "",
    },
    {
        "http://[::127.0.0.1]",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "[::7f00:1]",
        "",
        "/",
        "",
        "",
    },
    {
        "http://[0:0:0:0:0:0:13.1.68.3]",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "[::d01:4403]",
        "",
        "/",
        "",
        "",
    },
    {
        "http://[2001::1]:80",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "[2001::1]",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/example.com/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "ftp:/example.com/",
        "http://example.org/foo/bar",
        "ftp:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "https:/example.com/",
        "http://example.org/foo/bar",
        "https:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "madeupscheme:/example.com/",
        "http://example.org/foo/bar",
        "madeupscheme:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "file:/example.com/",
        "http://example.org/foo/bar",
        "file:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "file://example:1/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "file://example:test/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "file://example%/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "file://[example]/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "ftps:/example.com/",
        "http://example.org/foo/bar",
        "ftps:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "gopher:/example.com/",
        "http://example.org/foo/bar",
        "gopher:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ws:/example.com/",
        "http://example.org/foo/bar",
        "ws:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "wss:/example.com/",
        "http://example.org/foo/bar",
        "wss:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "data:/example.com/",
        "http://example.org/foo/bar",
        "data:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "javascript:/example.com/",
        "http://example.org/foo/bar",
        "javascript:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "mailto:/example.com/",
        "http://example.org/foo/bar",
        "mailto:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "http:example.com/",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/example.com/",
        "",
        "",
    },
    {
        "ftp:example.com/",
        "http://example.org/foo/bar",
        "ftp:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "https:example.com/",
        "http://example.org/foo/bar",
        "https:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "madeupscheme:example.com/",
        "http://example.org/foo/bar",
        "madeupscheme:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "ftps:example.com/",
        "http://example.org/foo/bar",
        "ftps:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "gopher:example.com/",
        "http://example.org/foo/bar",
        "gopher:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ws:example.com/",
        "http://example.org/foo/bar",
        "ws:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "wss:example.com/",
        "http://example.org/foo/bar",
        "wss:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "data:example.com/",
        "http://example.org/foo/bar",
        "data:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "javascript:example.com/",
        "http://example.org/foo/bar",
        "javascript:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "mailto:example.com/",
        "http://example.org/foo/bar",
        "mailto:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "/a/b/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/a/b/c",
        "",
        "",
    },
    {
        "/a/ /c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/a/%20/c",
        "",
        "",
    },
    {
        "/a%2fc",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/a%2fc",
        "",
        "",
    },
    {
        "/a/%2f/c",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/a/%2f/c",
        "",
        "",
    },
    {
        "#\xce\xb2",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "#%CE%B2",
    },
    {
        "data:text/html,test#test",
        "http://example.org/foo/bar",
        "data:",
        "",
        "",
        "",
        "",
        "text/html,test",
        "",
        "#test",
    },
    {
        "tel:1234567890",
        "http://example.org/foo/bar",
        "tel:",
        "",
        "",
        "",
        "",
        "1234567890",
        "",
        "",
    },
    // # Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/file.html
    {
        "file:c:\\foo\\bar.html",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/c:/foo/bar.html",
        "",
        "",
    },
    {
        "  File:c|////foo\\bar.html",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/c:////foo/bar.html",
        "",
        "",
    },
    {
        "C|/foo/bar",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/foo/bar",
        "",
        "",
    },
    {
        "/C|\\foo\\bar",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/foo/bar",
        "",
        "",
    },
    {
        "//C|/foo/bar",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/foo/bar",
        "",
        "",
    },
    {
        "//server/file",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "server",
        "",
        "/file",
        "",
        "",
    },
    {
        "\\\\server\\file",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "server",
        "",
        "/file",
        "",
        "",
    },
    {
        "/\\server/file",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "server",
        "",
        "/file",
        "",
        "",
    },
    {
        "file:///foo/bar.txt",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/foo/bar.txt",
        "",
        "",
    },
    {
        "file:///home/me",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/home/me",
        "",
        "",
    },
    {
        "//",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "///",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "///test",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "",
        "",
    },
    {
        "file://test",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "test",
        "",
        "/",
        "",
        "",
    },
    {
        "file://localhost",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file://localhost/",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file://localhost/test",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "",
        "",
    },
    {
        "test",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/tmp/mock/test",
        "",
        "",
    },
    {
        "file:test",
        "file:///tmp/mock/path",
        "file:",
        "",
        "",
        "",
        "",
        "/tmp/mock/test",
        "",
        "",
    },
    // # Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/script-tests/path.js
    {
        "http://example.com/././foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo",
        "",
        "",
    },
    {
        "http://example.com/./.foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/.foo",
        "",
        "",
    },
    {
        "http://example.com/foo/.",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/./",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/bar/..",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/bar/../",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/..bar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/..bar",
        "",
        "",
    },
    {
        "http://example.com/foo/bar/../ton",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/ton",
        "",
        "",
    },
    {
        "http://example.com/foo/bar/../ton/../../a",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/a",
        "",
        "",
    },
    {
        "http://example.com/foo/../../..",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://example.com/foo/../../../ton",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/ton",
        "",
        "",
    },
    {
        "http://example.com/foo/%2e",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/%2e%2",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/%2e%2",
        "",
        "",
    },
    {
        "http://example.com/foo/%2e./%2e%2e/.%2e/%2e.bar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%2e.bar",
        "",
        "",
    },
    {
        "http://example.com////../..",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "//",
        "",
        "",
    },
    {
        "http://example.com/foo/bar//../..",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/",
        "",
        "",
    },
    {
        "http://example.com/foo/bar//..",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo/bar/",
        "",
        "",
    },
    {
        "http://example.com/foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo",
        "",
        "",
    },
    {
        "http://example.com/%20foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%20foo",
        "",
        "",
    },
    {
        "http://example.com/foo%",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%",
        "",
        "",
    },
    {
        "http://example.com/foo%2",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%2",
        "",
        "",
    },
    {
        "http://example.com/foo%2zbar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%2zbar",
        "",
        "",
    },
    {
        "http://example.com/foo%2\xc3\x82\xc2\xa9zbar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%2%C3%82%C2%A9zbar",
        "",
        "",
    },
    {
        "http://example.com/foo%41%7a",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%41%7a",
        "",
        "",
    },
    {
        "http://example.com/foo\t\xc2\x91%91",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%C2%91%91",
        "",
        "",
    },
    {
        "http://example.com/foo%00%51",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foo%00%51",
        "",
        "",
    },
    {
        "http://example.com/(%28:%3A%29)",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/(%28:%3A%29)",
        "",
        "",
    },
    {
        "http://example.com/%3A%3a%3C%3c",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%3A%3a%3C%3c",
        "",
        "",
    },
    {
        "http://example.com/foo\tbar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/foobar",
        "",
        "",
    },
    {
        "http://example.com\\\\foo\\\\bar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "//foo//bar",
        "",
        "",
    },
    {
        "http://example.com/%7Ffp3%3Eju%3Dduvgw%3Dd",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%7Ffp3%3Eju%3Dduvgw%3Dd",
        "",
        "",
    },
    {
        "http://example.com/@asdf%40",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/@asdf%40",
        "",
        "",
    },
    {
        "http://example.com/\xe4\xbd\xa0\xe5\xa5\xbd\xe4\xbd\xa0\xe5\xa5\xbd",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%E4%BD%A0%E5%A5%BD%E4%BD%A0%E5%A5%BD",
        "",
        "",
    },
    {
        "http://example.com/\xe2\x80\xa5/foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%E2%80%A5/foo",
        "",
        "",
    },
    {
        "http://example.com/\xef\xbb\xbf/foo",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%EF%BB%BF/foo",
        "",
        "",
    },
    {
        "http://example.com/\xe2\x80\xae/foo/\xe2\x80\xad/bar",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/%E2%80%AE/foo/%E2%80%AD/bar",
        "",
        "",
    },
    // # Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/script-tests/relative.js
    {
        "http://www.google.com/foo?bar=baz#",
        "about:blank",
        "http:",
        "",
        "",
        "www.google.com",
        "",
        "/foo",
        "?bar=baz",
        "",
    },
    {
        "http://www.google.com/foo?bar=baz# \xc2\xbb",
        "about:blank",
        "http:",
        "",
        "",
        "www.google.com",
        "",
        "/foo",
        "?bar=baz",
        "#%20%C2%BB",
    },
    {
        "data:test# \xc2\xbb",
        "about:blank",
        "data:",
        "",
        "",
        "",
        "",
        "test",
        "",
        "#%20%C2%BB",
    },
    {
        "http://www.google.com",
        "about:blank",
        "http:",
        "",
        "",
        "www.google.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://192.0x00A80001",
        "about:blank",
        "http:",
        "",
        "",
        "192.168.0.1",
        "",
        "/",
        "",
        "",
    },
    {
        "http://www/foo%2Ehtml",
        "about:blank",
        "http:",
        "",
        "",
        "www",
        "",
        "/foo%2Ehtml",
        "",
        "",
    },
    {
        "http://www/foo/%2E/html",
        "about:blank",
        "http:",
        "",
        "",
        "www",
        "",
        "/foo/html",
        "",
        "",
    },
    {
        "http://user:pass@/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://%25DOMAIN:foobar@foodomain.com/",
        "about:blank",
        "http:",
        "%25DOMAIN",
        "foobar",
        "foodomain.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:\\\\www.google.com\\foo",
        "about:blank",
        "http:",
        "",
        "",
        "www.google.com",
        "",
        "/foo",
        "",
        "",
    },
    {
        "http://foo:80/",
        "about:blank",
        "http:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "http://foo:81/",
        "about:blank",
        "http:",
        "",
        "",
        "foo",
        "81",
        "/",
        "",
        "",
    },
    {
        "httpa://foo:80/",
        "about:blank",
        "httpa:",
        "",
        "",
        "foo",
        "80",
        "/",
        "",
        "",
    },
    {
        "http://foo:-80/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://foo:443/",
        "about:blank",
        "https:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "https://foo:80/",
        "about:blank",
        "https:",
        "",
        "",
        "foo",
        "80",
        "/",
        "",
        "",
    },
    {
        "ftp://foo:21/",
        "about:blank",
        "ftp:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "ftp://foo:80/",
        "about:blank",
        "ftp:",
        "",
        "",
        "foo",
        "80",
        "/",
        "",
        "",
    },
    {
        "gopher://foo:70/",
        "about:blank",
        "gopher:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "gopher://foo:443/",
        "about:blank",
        "gopher:",
        "",
        "",
        "foo",
        "443",
        "/",
        "",
        "",
    },
    {
        "ws://foo:80/",
        "about:blank",
        "ws:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "ws://foo:81/",
        "about:blank",
        "ws:",
        "",
        "",
        "foo",
        "81",
        "/",
        "",
        "",
    },
    {
        "ws://foo:443/",
        "about:blank",
        "ws:",
        "",
        "",
        "foo",
        "443",
        "/",
        "",
        "",
    },
    {
        "ws://foo:815/",
        "about:blank",
        "ws:",
        "",
        "",
        "foo",
        "815",
        "/",
        "",
        "",
    },
    {
        "wss://foo:80/",
        "about:blank",
        "wss:",
        "",
        "",
        "foo",
        "80",
        "/",
        "",
        "",
    },
    {
        "wss://foo:81/",
        "about:blank",
        "wss:",
        "",
        "",
        "foo",
        "81",
        "/",
        "",
        "",
    },
    {
        "wss://foo:443/",
        "about:blank",
        "wss:",
        "",
        "",
        "foo",
        "",
        "/",
        "",
        "",
    },
    {
        "wss://foo:815/",
        "about:blank",
        "wss:",
        "",
        "",
        "foo",
        "815",
        "/",
        "",
        "",
    },
    {
        "http:/example.com/",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ftp:/example.com/",
        "about:blank",
        "ftp:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "https:/example.com/",
        "about:blank",
        "https:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "madeupscheme:/example.com/",
        "about:blank",
        "madeupscheme:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "file:/example.com/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "ftps:/example.com/",
        "about:blank",
        "ftps:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "gopher:/example.com/",
        "about:blank",
        "gopher:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ws:/example.com/",
        "about:blank",
        "ws:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "wss:/example.com/",
        "about:blank",
        "wss:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "data:/example.com/",
        "about:blank",
        "data:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "javascript:/example.com/",
        "about:blank",
        "javascript:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "mailto:/example.com/",
        "about:blank",
        "mailto:",
        "",
        "",
        "",
        "",
        "/example.com/",
        "",
        "",
    },
    {
        "http:example.com/",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ftp:example.com/",
        "about:blank",
        "ftp:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "https:example.com/",
        "about:blank",
        "https:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "madeupscheme:example.com/",
        "about:blank",
        "madeupscheme:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "ftps:example.com/",
        "about:blank",
        "ftps:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "gopher:example.com/",
        "about:blank",
        "gopher:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "ws:example.com/",
        "about:blank",
        "ws:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "wss:example.com/",
        "about:blank",
        "wss:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "data:example.com/",
        "about:blank",
        "data:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "javascript:example.com/",
        "about:blank",
        "javascript:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    {
        "mailto:example.com/",
        "about:blank",
        "mailto:",
        "",
        "",
        "",
        "",
        "example.com/",
        "",
        "",
    },
    // # Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/segments-userinfo-vs-host.html
    {
        "http:@www.example.com",
        "about:blank",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/@www.example.com",
        "about:blank",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://@www.example.com",
        "about:blank",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:a:b@www.example.com",
        "about:blank",
        "http:",
        "a",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/a:b@www.example.com",
        "about:blank",
        "http:",
        "a",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://a:b@www.example.com",
        "about:blank",
        "http:",
        "a",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://@pple.com",
        "about:blank",
        "http:",
        "",
        "",
        "pple.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http::b@www.example.com",
        "about:blank",
        "http:",
        "",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/:b@www.example.com",
        "about:blank",
        "http:",
        "",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://:b@www.example.com",
        "about:blank",
        "http:",
        "",
        "b",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/:@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://user@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:/@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https:@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:a:b@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:/a:b@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://a:b@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http::@/www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:a:@www.example.com",
        "about:blank",
        "http:",
        "a",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:/a:@www.example.com",
        "about:blank",
        "http:",
        "a",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://a:@www.example.com",
        "about:blank",
        "http:",
        "a",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://www.@pple.com",
        "about:blank",
        "http:",
        "www.",
        "",
        "pple.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http:@:www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http:/@:www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://@:www.example.com",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://:@www.example.com",
        "about:blank",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    // # Others
    {
        "/",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "/test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/test.txt",
        "",
        "",
    },
    {
        ".",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "..",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/test.txt",
        "",
        "",
    },
    {
        "./test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/test.txt",
        "",
        "",
    },
    {
        "../test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/test.txt",
        "",
        "",
    },
    {
        "../aaa/test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/aaa/test.txt",
        "",
        "",
    },
    {
        "../../test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/test.txt",
        "",
        "",
    },
    {
        "\xe4\xb8\xad/test.txt",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example.com",
        "",
        "/%E4%B8%AD/test.txt",
        "",
        "",
    },
    {
        "http://www.example2.com",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example2.com",
        "",
        "/",
        "",
        "",
    },
    {
        "//www.example2.com",
        "http://www.example.com/test",
        "http:",
        "",
        "",
        "www.example2.com",
        "",
        "/",
        "",
        "",
    },
    {
        "file:...",
        "http://www.example.com/test",
        "file:",
        "",
        "",
        "",
        "",
        "/...",
        "",
        "",
    },
    {
        "file:..",
        "http://www.example.com/test",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file:a",
        "http://www.example.com/test",
        "file:",
        "",
        "",
        "",
        "",
        "/a",
        "",
        "",
    },
    // # Based on http://trac.webkit.org/browser/trunk/LayoutTests/fast/url/host.html
    // Basic canonicalization, uppercase should be converted to lowercase
    {
        "http://ExAmPlE.CoM",
        "http://other.com/",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://example example.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://Goo%20 goo%7C|.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[:]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // U+3000 is mapped to U+0020 (space) which is disallowed
    {
        "http://GOO\xc2\xa0\xe3\x80\x80goo.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Other types of space (no-break, zero-width, zero-width-no-break) are name-prepped away to nothing. U+200B, U+2060, and U+FEFF, are ignored
    {
        "http://GOO\xe2\x80\x8b\xe2\x81\xa0\xef\xbb\xbfgoo.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "googoo.com",
        "",
        "/",
        "",
        "",
    },
    // Leading and trailing C0 control or space
    {
        "\x1b\x04\x12 http://example.com/\x1f \r ",
        "about:blank",
        "http:",
        "",
        "",
        "example.com",
        "",
        "/",
        "",
        "",
    },
    // Ideographic full stop (full-width period for Chinese, etc.) should be treated as a dot. U+3002 is mapped to U+002E (dot)
    {
        "http://www.foobar.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "www.foo.bar.com",
        "",
        "/",
        "",
        "",
    },
    // Invalid unicode characters should fail... U+FDD0 is disallowed; %ef%b7%90 is U+FDD0
    {
        "http://\xef\xb7\x90zyx.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // This is the same as previous but escaped
    {
        "http://%ef%b7%90zyx.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // U+FFFD
    {
        "https://\xef\xbf\xbd",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://%EF%BF%BD",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://x/\xef\xbf\xbd?\xef\xbf\xbd#\xef\xbf\xbd",
        "about:blank",
        "https:",
        "",
        "",
        "x",
        "",
        "/%EF%BF%BD",
        "?%EF%BF%BD",
        "#%EF%BF%BD",
    },
    // Test name prepping, fullwidth input should be converted to ASCII and NOT IDN-ized. This is 'Go' in fullwidth UTF-8/UTF-16.
    {
        "http://\xef\xbc\xa7\xef\xbd\x8f.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "go.com",
        "",
        "/",
        "",
        "",
    },
    // URL spec forbids the following. https://www.w3.org/Bugs/Public/show_bug.cgi?id=24257
    {
        "http://\xef\xbc\x85\xef\xbc\x94\xef\xbc\x91.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://%ef%bc%85%ef%bc%94%ef%bc%91.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // ...%00 in fullwidth should fail (also as escaped UTF-8 input)
    {
        "http://\xef\xbc\x85\xef\xbc\x90\xef\xbc\x90.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://%ef%bc%85%ef%bc%90%ef%bc%90.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Basic IDN support, UTF-8 and UTF-16 input should be converted to IDN
    {
        "http://\xe4\xbd\xa0\xe5\xa5\xbd\xe4\xbd\xa0\xe5\xa5\xbd",
        "http://other.com/",
        "http:",
        "",
        "",
        "xn--6qqa088eba",
        "",
        "/",
        "",
        "",
    },
    {
        "https://fa\xc3\x9f.ExAmPlE/",
        "about:blank",
        "https:",
        "",
        "",
        "xn--fa-hia.example",
        "",
        "/",
        "",
        "",
    },
    {
        "sc://fa\xc3\x9f.ExAmPlE/",
        "about:blank",
        "sc:",
        "",
        "",
        "fa%C3%9F.ExAmPlE",
        "",
        "/",
        "",
        "",
    },
    // Invalid escaped characters should fail and the percents should be escaped. https://www.w3.org/Bugs/Public/show_bug.cgi?id=24191
    {
        "http://%zz%66%a.com",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // If we get an invalid character that has been escaped.
    {
        "http://%25",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://hello%00",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Escaped numbers should be treated like IP addresses if they are.
    {
        "http://%30%78%63%30%2e%30%32%35%30.01",
        "http://other.com/",
        "http:",
        "",
        "",
        "192.168.0.1",
        "",
        "/",
        "",
        "",
    },
    {
        "http://%30%78%63%30%2e%30%32%35%30.01%2e",
        "http://other.com/",
        "http:",
        "",
        "",
        "192.168.0.1",
        "",
        "/",
        "",
        "",
    },
    {
        "http://192.168.0.257",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Invalid escaping in hosts causes failure
    {
        "http://%3g%78%63%30%2e%30%32%35%30%2E.01",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // A space in a host causes failure
    {
        "http://192.168.0.1 hello",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://x x:12",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Fullwidth and escaped UTF-8 fullwidth should still be treated as IP
    {
        "http://\xef\xbc\x90\xef\xbc\xb8\xef\xbd\x83\xef\xbc\x90\xef\xbc\x8e\xef\xbc\x90\xef\xbc\x92\xef\xbc\x95\xef\xbc\x90\xef\xbc\x8e\xef\xbc\x90\xef\xbc\x91",
        "http://other.com/",
        "http:",
        "",
        "",
        "192.168.0.1",
        "",
        "/",
        "",
        "",
    },
    // Domains with empty labels
    {
        "http://./",
        "about:blank",
        "http:",
        "",
        "",
        ".",
        "",
        "/",
        "",
        "",
    },
    {
        "http://../",
        "about:blank",
        "http:",
        "",
        "",
        "..",
        "",
        "/",
        "",
        "",
    },
    {
        "http://0..0x300/",
        "about:blank",
        "http:",
        "",
        "",
        "0..0x300",
        "",
        "/",
        "",
        "",
    },
    // Broken IPv6
    {
        "http://[www.google.com]/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[google.com]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[::1.2.3.4x]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[::1.2.3.]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[::1.2.]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://[::1.]",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Misc Unicode
    {
        "http://foo:@example.com/bar",
        "http://other.com/",
        "http:",
        "foo",
        "%F0%9F%92%A9",
        "example.com",
        "",
        "/bar",
        "",
        "",
    },
    // # resolving a fragment against any scheme succeeds
    {
        "#",
        "test:test",
        "test:",
        "",
        "",
        "",
        "",
        "test",
        "",
        "",
    },
    {
        "#x",
        "mailto:x@x.com",
        "mailto:",
        "",
        "",
        "",
        "",
        "x@x.com",
        "",
        "#x",
    },
    {
        "#x",
        "data:,",
        "data:",
        "",
        "",
        "",
        "",
        ",",
        "",
        "#x",
    },
    {
        "#x",
        "about:blank",
        "about:",
        "",
        "",
        "",
        "",
        "blank",
        "",
        "#x",
    },
    {
        "#",
        "test:test?test",
        "test:",
        "",
        "",
        "",
        "",
        "test",
        "?test",
        "",
    },
    // # multiple @ in authority state
    {
        "https://@test@test@example:800/",
        "http://doesnotmatter/",
        "https:",
        "%40test%40test",
        "",
        "example",
        "800",
        "/",
        "",
        "",
    },
    {
        "https://@@@example",
        "http://doesnotmatter/",
        "https:",
        "%40%40",
        "",
        "example",
        "",
        "/",
        "",
        "",
    },
    // non-az-09 characters
    {
        "http://`{}:`{}@h/`{}?`{}",
        "http://doesnotmatter/",
        "http:",
        "%60%7B%7D",
        "%60%7B%7D",
        "h",
        "",
        "/%60%7B%7D",
        "?`{}",
        "",
    },
    // # Credentials in base
    {
        "/some/path",
        "http://user@example.org/smth",
        "http:",
        "user",
        "",
        "example.org",
        "",
        "/some/path",
        "",
        "",
    },
    {
        "",
        "http://user:pass@example.org:21/smth",
        "http:",
        "user",
        "pass",
        "example.org",
        "21",
        "/smth",
        "",
        "",
    },
    {
        "/some/path",
        "http://user:pass@example.org:21/smth",
        "http:",
        "user",
        "pass",
        "example.org",
        "21",
        "/some/path",
        "",
        "",
    },
    // # a set of tests designed by zcorpan for relative URLs with unknown schemes
    {
        "i",
        "sc:sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "i",
        "sc:sd/sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "i",
        "sc:/pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/i",
        "",
        "",
    },
    {
        "i",
        "sc://ho/pa",
        "sc:",
        "",
        "",
        "ho",
        "",
        "/i",
        "",
        "",
    },
    {
        "i",
        "sc:///pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/i",
        "",
        "",
    },
    {
        "../i",
        "sc:sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "../i",
        "sc:sd/sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "../i",
        "sc:/pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/i",
        "",
        "",
    },
    {
        "../i",
        "sc://ho/pa",
        "sc:",
        "",
        "",
        "ho",
        "",
        "/i",
        "",
        "",
    },
    {
        "../i",
        "sc:///pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/i",
        "",
        "",
    },
    {
        "/i",
        "sc:sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "/i",
        "sc:sd/sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "/i",
        "sc:/pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/i",
        "",
        "",
    },
    {
        "/i",
        "sc://ho/pa",
        "sc:",
        "",
        "",
        "ho",
        "",
        "/i",
        "",
        "",
    },
    {
        "/i",
        "sc:///pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/i",
        "",
        "",
    },
    {
        "?i",
        "sc:sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "?i",
        "sc:sd/sd",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "?i",
        "sc:/pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/pa",
        "?i",
        "",
    },
    {
        "?i",
        "sc://ho/pa",
        "sc:",
        "",
        "",
        "ho",
        "",
        "/pa",
        "?i",
        "",
    },
    {
        "?i",
        "sc:///pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/pa",
        "?i",
        "",
    },
    {
        "#i",
        "sc:sd",
        "sc:",
        "",
        "",
        "",
        "",
        "sd",
        "",
        "#i",
    },
    {
        "#i",
        "sc:sd/sd",
        "sc:",
        "",
        "",
        "",
        "",
        "sd/sd",
        "",
        "#i",
    },
    {
        "#i",
        "sc:/pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/pa",
        "",
        "#i",
    },
    {
        "#i",
        "sc://ho/pa",
        "sc:",
        "",
        "",
        "ho",
        "",
        "/pa",
        "",
        "#i",
    },
    {
        "#i",
        "sc:///pa/pa",
        "sc:",
        "",
        "",
        "",
        "",
        "/pa/pa",
        "",
        "#i",
    },
    // # make sure that relative URL logic works on known typically non-relative schemes too
    {
        "about:/../",
        "about:blank",
        "about:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "data:/../",
        "about:blank",
        "data:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "javascript:/../",
        "about:blank",
        "javascript:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "mailto:/../",
        "about:blank",
        "mailto:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    // # unknown schemes and their hosts
    {
        "sc://\xc3\xb1.test/",
        "about:blank",
        "sc:",
        "",
        "",
        "%C3%B1.test",
        "",
        "/",
        "",
        "",
    },
    {
        "sc://\x1f!\"$&'()*+,-.;<=>^_`{|}~/",
        "about:blank",
        "sc:",
        "",
        "",
        "%1F!\"$&'()*+,-.;<=>^_`{|}~",
        "",
        "/",
        "",
        "",
    },
    {
        "sc:// /",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://%/",
        "about:blank",
        "sc:",
        "",
        "",
        "%",
        "",
        "/",
        "",
        "",
    },
    {
        "sc://@/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://te@s:t@/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://:/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://:12/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://[/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://\\/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://]/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "x",
        "sc://\xc3\xb1",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "/x",
        "",
        "",
    },
    // # unknown schemes and backslashes
    {
        "sc:\\../",
        "about:blank",
        "sc:",
        "",
        "",
        "",
        "",
        "\\../",
        "",
        "",
    },
    // # unknown scheme with path looking like a password
    {
        "sc::a@example.net",
        "about:blank",
        "sc:",
        "",
        "",
        "",
        "",
        ":a@example.net",
        "",
        "",
    },
    // # unknown scheme with bogus percent-encoding
    {
        "wow:%NBD",
        "about:blank",
        "wow:",
        "",
        "",
        "",
        "",
        "%NBD",
        "",
        "",
    },
    {
        "wow:%1G",
        "about:blank",
        "wow:",
        "",
        "",
        "",
        "",
        "%1G",
        "",
        "",
    },
    // # Hosts and percent-encoding
    {
        "ftp://example.com%80/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "ftp://example.com%A0/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://example.com%80/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://example.com%A0/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "ftp://%e2%98%83",
        "about:blank",
        "ftp:",
        "",
        "",
        "xn--n3h",
        "",
        "/",
        "",
        "",
    },
    {
        "https://%e2%98%83",
        "about:blank",
        "https:",
        "",
        "",
        "xn--n3h",
        "",
        "/",
        "",
        "",
    },
    // # tests from jsdom/whatwg-url designed for code coverage
    {
        "http://127.0.0.1:10100/relative_import.html",
        "about:blank",
        "http:",
        "",
        "",
        "127.0.0.1",
        "10100",
        "/relative_import.html",
        "",
        "",
    },
    {
        "http://facebook.com/?foo=%7B%22abc%22",
        "about:blank",
        "http:",
        "",
        "",
        "facebook.com",
        "",
        "/",
        "?foo=%7B%22abc%22",
        "",
    },
    {
        "https://localhost:3000/jqueryui@1.2.3",
        "about:blank",
        "https:",
        "",
        "",
        "localhost",
        "3000",
        "/jqueryui@1.2.3",
        "",
        "",
    },
    // # tab/LF/CR
    {
        "h\tt\nt\rp://h\to\ns\rt:9\t0\n0\r0/p\ta\nt\rh?q\tu\ne\rry#f\tr\na\rg",
        "about:blank",
        "http:",
        "",
        "",
        "host",
        "9000",
        "/path",
        "?query",
        "#frag",
    },
    // # Stringification of URL.searchParams
    {
        "?a=b&c=d",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "?a=b&c=d",
        "",
    },
    {
        "??a=b&c=d",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "??a=b&c=d",
        "",
    },
    // # Scheme only
    {
        "http:",
        "http://example.org/foo/bar",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        "http:",
        "https://example.org/foo/bar",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc:",
        "https://example.org/foo/bar",
        "sc:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // # Percent encoding of fragments
    {
        "http://foo.bar/baz?qux#foo\bbar",
        "about:blank",
        "http:",
        "",
        "",
        "foo.bar",
        "",
        "/baz",
        "?qux",
        "#foo%08bar",
    },
    // # IPv4 parsing (via https://github.com/nodejs/node/pull/10317)
    {
        "http://192.168.257",
        "http://other.com/",
        "http:",
        "",
        "",
        "192.168.1.1",
        "",
        "/",
        "",
        "",
    },
    {
        "http://192.168.257.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "192.168.257.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://256",
        "http://other.com/",
        "http:",
        "",
        "",
        "0.0.1.0",
        "",
        "/",
        "",
        "",
    },
    {
        "http://256.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "256.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://999999999",
        "http://other.com/",
        "http:",
        "",
        "",
        "59.154.201.255",
        "",
        "/",
        "",
        "",
    },
    {
        "http://999999999.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "999999999.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://10000000000",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://10000000000.com",
        "http://other.com/",
        "http:",
        "",
        "",
        "10000000000.com",
        "",
        "/",
        "",
        "",
    },
    {
        "http://4294967295",
        "http://other.com/",
        "http:",
        "",
        "",
        "255.255.255.255",
        "",
        "/",
        "",
        "",
    },
    {
        "http://4294967296",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://0xffffffff",
        "http://other.com/",
        "http:",
        "",
        "",
        "255.255.255.255",
        "",
        "/",
        "",
        "",
    },
    {
        "http://0xffffffff1",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://256.256.256.256",
        "http://other.com/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://256.256.256.256.256",
        "http://other.com/",
        "http:",
        "",
        "",
        "256.256.256.256.256",
        "",
        "/",
        "",
        "",
    },
    {
        "https://0x.0x.0",
        "about:blank",
        "https:",
        "",
        "",
        "0.0.0.0",
        "",
        "/",
        "",
        "",
    },
    // More IPv4 parsing (via https://github.com/jsdom/whatwg-url/issues/92)
    {
        "https://0x100000000/test",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://256.0.0.1/test",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // # file URLs containing percent-encoded Windows drive letters (shouldn't work)
    {
        "file:///C%3A/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C%3A/",
        "",
        "",
    },
    {
        "file:///C%7C/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C%7C/",
        "",
        "",
    },
    // # file URLs relative to other file URLs (via https://github.com/jsdom/whatwg-url/pull/60)
    {
        "pix/submit.gif",
        "file:///C:/Users/Domenic/Dropbox/GitHub/tmpvar/jsdom/test/level2/html/files/anchor.html",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/Users/Domenic/Dropbox/GitHub/tmpvar/jsdom/test/level2/html/files/pix/submit.gif",
        "",
        "",
    },
    {
        "..",
        "file:///C:/",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "..",
        "file:///",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    // # More file URL tests by zcorpan and annevk
    {
        "/",
        "file:///C:/a/b",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "//d:",
        "file:///C:/a/b",
        "file:",
        "",
        "",
        "",
        "",
        "/d:",
        "",
        "",
    },
    {
        "//d:/..",
        "file:///C:/a/b",
        "file:",
        "",
        "",
        "",
        "",
        "/d:/",
        "",
        "",
    },
    {
        "..",
        "file:///ab:/",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "..",
        "file:///1:/",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?test",
        "",
    },
    {
        "file:",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?test",
        "",
    },
    {
        "?x",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?x",
        "",
    },
    {
        "file:?x",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?x",
        "",
    },
    {
        "#x",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?test",
        "#x",
    },
    {
        "file:#x",
        "file:///test?test#test",
        "file:",
        "",
        "",
        "",
        "",
        "/test",
        "?test",
        "#x",
    },
    // # File URLs and many (back)slashes
    {
        "file:\\\\//",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file:\\\\\\\\",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file:\\\\\\\\?fox",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "?fox",
        "",
    },
    {
        "file:\\\\\\\\#guppy",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "#guppy",
    },
    {
        "file://spider///",
        "about:blank",
        "file:",
        "",
        "",
        "spider",
        "",
        "/",
        "",
        "",
    },
    {
        "file:\\\\localhost//",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file:///localhost//cat",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/localhost//cat",
        "",
        "",
    },
    {
        "file://\\/localhost//cat",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/localhost//cat",
        "",
        "",
    },
    {
        "file://localhost//a//../..//",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "/////mouse",
        "file:///elephant",
        "file:",
        "",
        "",
        "",
        "",
        "/mouse",
        "",
        "",
    },
    {
        "\\//pig",
        "file://lion/",
        "file:",
        "",
        "",
        "",
        "",
        "/pig",
        "",
        "",
    },
    {
        "\\/localhost//pig",
        "file://lion/",
        "file:",
        "",
        "",
        "",
        "",
        "/pig",
        "",
        "",
    },
    {
        "//localhost//pig",
        "file://lion/",
        "file:",
        "",
        "",
        "",
        "",
        "/pig",
        "",
        "",
    },
    {
        "/..//localhost//pig",
        "file://lion/",
        "file:",
        "",
        "",
        "lion",
        "",
        "/localhost//pig",
        "",
        "",
    },
    {
        "file://",
        "file://ape/",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    // # File URLs with non-empty hosts
    {
        "/rooibos",
        "file://tea/",
        "file:",
        "",
        "",
        "tea",
        "",
        "/rooibos",
        "",
        "",
    },
    {
        "/?chai",
        "file://tea/",
        "file:",
        "",
        "",
        "tea",
        "",
        "/",
        "?chai",
        "",
    },
    // # Windows drive letter handling with the 'file:' base URL
    {
        "C|",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:",
        "",
        "",
    },
    {
        "C|#",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:",
        "",
        "",
    },
    {
        "C|?",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:",
        "",
        "",
    },
    {
        "C|/",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "C|\n/",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "C|\\",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "C",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "host",
        "",
        "/dir/C",
        "",
        "",
    },
    {
        "C|a",
        "file://host/dir/file",
        "file:",
        "",
        "",
        "host",
        "",
        "/dir/C|a",
        "",
        "",
    },
    // # Windows drive letter quirk in the file slash state
    {
        "/c:/foo/bar",
        "file:///c:/baz/qux",
        "file:",
        "",
        "",
        "",
        "",
        "/c:/foo/bar",
        "",
        "",
    },
    {
        "/c|/foo/bar",
        "file:///c:/baz/qux",
        "file:",
        "",
        "",
        "",
        "",
        "/c:/foo/bar",
        "",
        "",
    },
    {
        "file:\\c:\\foo\\bar",
        "file:///c:/baz/qux",
        "file:",
        "",
        "",
        "",
        "",
        "/c:/foo/bar",
        "",
        "",
    },
    {
        "/c:/foo/bar",
        "file://host/path",
        "file:",
        "",
        "",
        "",
        "",
        "/c:/foo/bar",
        "",
        "",
    },
    // # Windows drive letter quirk with not empty host
    {
        "file://example.net/C:/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "file://1.2.3.4/C:/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "file://[1::8]/C:/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    // # Windows drive letter quirk (no host)
    {
        "file:/C|/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    {
        "file://C|/",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/C:/",
        "",
        "",
    },
    // # file URLs without base URL by Rimas Miseviius
    {
        "file:",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "file:?q=v",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "?q=v",
        "",
    },
    {
        "file:#frag",
        "about:blank",
        "file:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "#frag",
    },
    // # IPv6 tests
    {
        "http://[1:0::]",
        "http://example.net/",
        "http:",
        "",
        "",
        "[1::]",
        "",
        "/",
        "",
        "",
    },
    {
        "http://[0:1:2:3:4:5:6:7:8]",
        "http://example.net/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0::0::0]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:.0]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:0:]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:1:2:3:4:5:6:7.0.0.0.1]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:1.00.0.0.0]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:1.290.0.0.0]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "https://[0:1.23.23]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // # Empty host
    {
        "http://?",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "http://#",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Port overflow (2^32 + 81)
    {
        "http://f:4294967377/c",
        "http://example.org/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Port overflow (2^64 + 81)
    {
        "http://f:18446744073709551697/c",
        "http://example.org/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Port overflow (2^128 + 81)
    {
        "http://f:340282366920938463463374607431768211537/c",
        "http://example.org/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // # Non-special-URL path tests
    {
        "sc://\xc3\xb1",
        "about:blank",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "",
        "",
        "",
    },
    {
        "sc://\xc3\xb1?x",
        "about:blank",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "",
        "?x",
        "",
    },
    {
        "sc://\xc3\xb1#x",
        "about:blank",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "",
        "",
        "#x",
    },
    {
        "#x",
        "sc://\xc3\xb1",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "",
        "",
        "#x",
    },
    {
        "?x",
        "sc://\xc3\xb1",
        "sc:",
        "",
        "",
        "%C3%B1",
        "",
        "",
        "?x",
        "",
    },
    {
        "sc://?",
        "about:blank",
        "sc:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "sc://#",
        "about:blank",
        "sc:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "///",
        "sc://x/",
        "sc:",
        "",
        "",
        "",
        "",
        "/",
        "",
        "",
    },
    {
        "////",
        "sc://x/",
        "sc:",
        "",
        "",
        "",
        "",
        "//",
        "",
        "",
    },
    {
        "////x/",
        "sc://x/",
        "sc:",
        "",
        "",
        "",
        "",
        "//x/",
        "",
        "",
    },
    {
        "tftp://foobar.com/someconfig;mode=netascii",
        "about:blank",
        "tftp:",
        "",
        "",
        "foobar.com",
        "",
        "/someconfig;mode=netascii",
        "",
        "",
    },
    {
        "telnet://user:pass@foobar.com:23/",
        "about:blank",
        "telnet:",
        "user",
        "pass",
        "foobar.com",
        "23",
        "/",
        "",
        "",
    },
    {
        "ut2004://10.10.10.10:7777/Index.ut2",
        "about:blank",
        "ut2004:",
        "",
        "",
        "10.10.10.10",
        "7777",
        "/Index.ut2",
        "",
        "",
    },
    {
        "redis://foo:bar@somehost:6379/0?baz=bam&qux=baz",
        "about:blank",
        "redis:",
        "foo",
        "bar",
        "somehost",
        "6379",
        "/0",
        "?baz=bam&qux=baz",
        "",
    },
    {
        "rsync://foo@host:911/sup",
        "about:blank",
        "rsync:",
        "foo",
        "",
        "host",
        "911",
        "/sup",
        "",
        "",
    },
    {
        "git://github.com/foo/bar.git",
        "about:blank",
        "git:",
        "",
        "",
        "github.com",
        "",
        "/foo/bar.git",
        "",
        "",
    },
    {
        "irc://myserver.com:6999/channel?passwd",
        "about:blank",
        "irc:",
        "",
        "",
        "myserver.com",
        "6999",
        "/channel",
        "?passwd",
        "",
    },
    {
        "dns://fw.example.org:9999/foo.bar.org?type=TXT",
        "about:blank",
        "dns:",
        "",
        "",
        "fw.example.org",
        "9999",
        "/foo.bar.org",
        "?type=TXT",
        "",
    },
    {
        "ldap://localhost:389/ou=People,o=JNDITutorial",
        "about:blank",
        "ldap:",
        "",
        "",
        "localhost",
        "389",
        "/ou=People,o=JNDITutorial",
        "",
        "",
    },
    {
        "git+https://github.com/foo/bar",
        "about:blank",
        "git+https:",
        "",
        "",
        "github.com",
        "",
        "/foo/bar",
        "",
        "",
    },
    {
        "urn:ietf:rfc:2648",
        "about:blank",
        "urn:",
        "",
        "",
        "",
        "",
        "ietf:rfc:2648",
        "",
        "",
    },
    {
        "tag:joe@example.org,2001:foo/bar",
        "about:blank",
        "tag:",
        "",
        "",
        "",
        "",
        "joe@example.org,2001:foo/bar",
        "",
        "",
    },
    // # percent encoded hosts in non-special-URLs
    {
        "non-special://%E2%80%A0/",
        "about:blank",
        "non-special:",
        "",
        "",
        "%E2%80%A0",
        "",
        "/",
        "",
        "",
    },
    {
        "non-special://H%4fSt/path",
        "about:blank",
        "non-special:",
        "",
        "",
        "H%4fSt",
        "",
        "/path",
        "",
        "",
    },
    // # IPv6 in non-special-URLs
    {
        "non-special://[1:2:0:0:5:0:0:0]/",
        "about:blank",
        "non-special:",
        "",
        "",
        "[1:2:0:0:5::]",
        "",
        "/",
        "",
        "",
    },
    {
        "non-special://[1:2:0:0:0:0:0:3]/",
        "about:blank",
        "non-special:",
        "",
        "",
        "[1:2::3]",
        "",
        "/",
        "",
        "",
    },
    {
        "non-special://[1:2::3]:80/",
        "about:blank",
        "non-special:",
        "",
        "",
        "[1:2::3]",
        "80",
        "/",
        "",
        "",
    },
    {
        "non-special://[:80/",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "blob:https://example.com:443/",
        "about:blank",
        "blob:",
        "",
        "",
        "",
        "",
        "https://example.com:443/",
        "",
        "",
    },
    {
        "blob:d3958f5c-0777-0845-9dcf-2cb28783acaf",
        "about:blank",
        "blob:",
        "",
        "",
        "",
        "",
        "d3958f5c-0777-0845-9dcf-2cb28783acaf",
        "",
        "",
    },
    // Invalid IPv4 radix digits
    {
        "http://0177.0.0.0189",
        "about:blank",
        "http:",
        "",
        "",
        "0177.0.0.0189",
        "",
        "/",
        "",
        "",
    },
    {
        "http://0x7f.0.0.0x7g",
        "about:blank",
        "http:",
        "",
        "",
        "0x7f.0.0.0x7g",
        "",
        "/",
        "",
        "",
    },
    {
        "http://0X7F.0.0.0X7G",
        "about:blank",
        "http:",
        "",
        "",
        "0x7f.0.0.0x7g",
        "",
        "/",
        "",
        "",
    },
    // Invalid IPv4 portion of IPv6 address
    {
        "http://[::127.0.0.0.1]",
        "about:blank",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    // Uncompressed IPv6 addresses with 0
    {
        "http://[0:1:0:1:0:1:0:1]",
        "about:blank",
        "http:",
        "",
        "",
        "[0:1:0:1:0:1:0:1]",
        "",
        "/",
        "",
        "",
    },
    {
        "http://[1:0:1:0:1:0:1:0]",
        "about:blank",
        "http:",
        "",
        "",
        "[1:0:1:0:1:0:1:0]",
        "",
        "/",
        "",
        "",
    },
    // Percent-encoded query and fragment
    {
        "http://example.org/test?\"",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%22",
        "",
    },
    {
        "http://example.org/test?#",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "",
        "",
    },
    {
        "http://example.org/test?<",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%3C",
        "",
    },
    {
        "http://example.org/test?>",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%3E",
        "",
    },
    {
        "http://example.org/test?\xe2\x8c\xa3",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%E2%8C%A3",
        "",
    },
    {
        "http://example.org/test?%23%23",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%23%23",
        "",
    },
    {
        "http://example.org/test?%GH",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?%GH",
        "",
    },
    {
        "http://example.org/test?a#%EF",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?a",
        "#%EF",
    },
    {
        "http://example.org/test?a#%GH",
        "about:blank",
        "http:",
        "",
        "",
        "example.org",
        "",
        "/test",
        "?a",
        "#%GH",
    },
    // Bad bases
    {
        "test-a.html",
        "a",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "test-a-slash.html",
        "a/",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "test-a-slash-slash.html",
        "a//",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "test-a-colon.html",
        "a:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "test-a-colon-slash.html",
        "a:/",
        "a:",
        "",
        "",
        "",
        "",
        "/test-a-colon-slash.html",
        "",
        "",
    },
    {
        "test-a-colon-slash-slash.html",
        "a://",
        "a:",
        "",
        "",
        "",
        "",
        "/test-a-colon-slash-slash.html",
        "",
        "",
    },
    {
        "test-a-colon-b.html",
        "a:b",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
    },
    {
        "test-a-colon-slash-b.html",
        "a:/b",
        "a:",
        "",
        "",
        "",
        "",
        "/test-a-colon-slash-b.html",
        "",
        "",
    },
    {
        "test-a-colon-slash-slash-b.html",
        "a://b",
        "a:",
        "",
        "",
        "b",
        "",
        "/test-a-colon-slash-slash-b.html",
        "",
        "",
    },
};

const moe::ArrayView<Testing::UrlDataTestRecord> Testing::GetUrlDataTestRecords()
{
    size_t numberElements = sizeof(kUrlDataTestRecords) / sizeof(kUrlDataTestRecords[0]);
    return ArrayView<Testing::UrlDataTestRecord>(kUrlDataTestRecords, numberElements);
}
